<!-- index.html -->
<!DOCTYPE html>
<html>
    <head>
        <title>Crex Crex</title>
    </head>
    <body>
        <h1>Crex Crex</h1>
        <img id="quiz-image" src="" alt="Mystery species">
        <input id="guess" placeholder="Species name...">
        <button onclick="checkAnswer()">Submit</button>
        <p id="result"></p>

        <script>
            let currentAnswer = {};

            async function loadQuestion() {
                const response = await fetch("http://localhost:8000/quiz?");
                const data = await response.json();
                document.getElementById("quiz-image").src = data.image;
                currentAnswer = data.answer;
            }

            function checkAnswer() {
                const userGuess = document.getElementById("guess").value.toLowerCase();
                const actualSpecies = currentAnswer.species.toLowerCase();
                const resultEl = document.getElementById("result");
                
                if (userGuess === actualSpecies) {
                    resultEl.textContent = "Correct";
                } else {
                    resultEl.textContent = `Wrong, it's a ${currentAnswer.species}.`;
                }
            }

            // Load first question on startup
            loadQuestion();
        </script>
</body>
</html>